<?xml version="1.0"?>
<!-- XML declaration indicating the version of the document -->
<odoo>
  <!-- Definition of the window action for real estate properties -->
  <record id="estate_property_action" model="ir.actions.act_window">
   <field name="name">Properties</field> <!-- Name that will appear in the menu -->
   <field name="res_model">estate.property</field> <!-- Data model to be displayed -->
   <field name="view_mode">list,form</field> <!-- Available view modes: list and form -->
   <field name="help" type="html"> <!-- Help message when there are no records -->
     <p class="o_view_nocontent_smiling_face">
         Create Your first property!
     </p>
     <p>
       Here you can create and manage all of your real estate properties.
     </p>
     <p>
       Let's get that next amazing deal!
     </p>
    </field>
  </record>

  <!-- Definition of the list view for real estate properties -->
  <record id="estate_property_view_list" model="ir.ui.view">
  <field name="name">estate.property.list</field> <!-- Technical name of the view -->
  <field name="model">estate.property</field> <!-- Model associated with this view -->
  <field name="arch" type ="xml"> <!-- Architecture of the view in XML -->
       <list> <!-- Root element for the list view -->
        <field name="name" string="Title" width="200"/> <!-- Name field with custom label -->
        <field name="active" string="Status" widget="boolean_toggle" width="100"/>
        <field name="postcode" string="Postal Code" width="100"/> <!-- Postal code field -->
         <field name="property_type_id" width="100"/> 
        <field name="bedrooms" string="Bedrooms" width="100"/> <!-- Number of bedrooms field -->
        <field name="living_area" string="Living Area" width="100"/> <!-- Living area field -->
        <field name="selling_price" string="Selling Price" width="100"/> <!-- Selling price field -->
        <field name="best_price" string="Mejor Oferta" width="100"/> <!-- Mejor oferta field -->
        <field name="date_availability" string="Available From" width="150"/> <!-- Availability date field -->
       </list> 
   </field>
  </record>

  <!-- Definition of the form view for real estate properties -->
  <record id="estate_property_view_form" model="ir.ui.view">
  <field name="name">estate.property.form</field>
  <field name="model">estate.property</field>
  <field name="arch" type="xml">
    <form string="Property">
       <header>
        <button name="action_sold" type="object" string="Sold"/>
        <button name="action_cancel" type="object" string="Cancel"/>
       </header>
      <sheet>
        <widget name="web_ribbon" title="Archived" bg_color="text-bg-danger" invisible="active"/>
        <div class="oe_button_box" name="button_box">
          <button class="oe_stat_button" type="object" name="toggle_active" icon="fa-archive">
            <field name="active" widget="boolean_button" options="{'terminology': 'archive'}"/>
          </button>
        </div>
        <group>
          <group string="General Information">
            <field name="tags_ids" widget="many2many_tags" class="badge text-bg-primary rounded-pill"/>
            <field name="name"/>
            <field name="postcode"/>
            <field name="property_type_id" options="{'no_create': true, 'no_open': true}" widget="selection"/>
            <field name="state"/>
          </group>

          <group string="Commercial Information">
            <field name="selling_price"/>
            <field name="best_price"/> <!-- A침adido el campo mejor oferta -->
            <field name="date_availability"/>
          </group>      
        </group>

        <notebook>
          <page string="Descripci칩n">
            <field name="description"/>
            <group>
             <field name="bedrooms"/>
              <field name="living_area"/>
              <field name="facades"/> 
            </group>
            <group>
              <field name="garage"/>
              <field name="garden"/>
            </group>
            <group>
              <field name="garden_area"/>
              <field name="garden_orientation"/>
              <field name="total_area"/>
            </group>
          </page>
          <page string="Otra Informaci칩n">
            <group>
              <field name="salesperson_id" widget="selection" options="{'no_create': True}" string="Vendedor"/>
              <field name="buyer_id" widget="selection" options="{'no_create': True}" string="Comprador"/>
            </group>
          </page>
          <page string="Ofertas">
            <field name="offer_ids"/>
          </page>
        </notebook>
      </sheet>
    </form>
  </field>
  </record>

  
  <!-- Definition of the filter view for real estate properties -->
  <record id="estate_property_view_search_filter" model="ir.ui.view">
    <field name="name">estate.property.view.search.filter</field>
    <field name="model">estate.property</field>
    <field name="arch" type="xml">
      <search>
        <field name="name"/>
        <field name="postcode"/>
         <field name="property_type_id"/>
        <field name="bedrooms"/>
        <field name="living_area"/>
        <field name="selling_price"/>
        <field name="best_price"/> <!-- A침adido el campo mejor oferta -->
        <separator/>
        <filter string="Available" name="available" domain="[('state', 'in', ['new', 'offer_received'])]"/>
        <filter string="Sold" name="sold" domain="[('state', '=', 'sold')]"/>
        <separator/>
        <filter string="With Garden" name="with_garden" domain="[('garden', '=', True)]"/>
        <filter string="With Garage" name="with_garage" domain="[('garage', '=', True)]"/>
        <separator/>
        <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
        <group expand="1" string="Group By">
          <filter string="Status" name="groupby_state" context="{'group_by': 'state'}"/>
          <filter string="Postal Code" name="groupby_postcode" context="{'group_by': 'postcode'}"/>
        </group>
      </search>
    </field>
  </record>

 

</odoo>