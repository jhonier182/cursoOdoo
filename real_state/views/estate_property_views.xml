<?xml version="1.0"?>
<!-- Declaración XML que indica la versión del documento -->
<odoo>
  <!-- Definición de la acción de ventana para propiedades inmobiliarias -->
  <record id="estate_property_action" model="ir.actions.act_window">
   <field name="name">Properties</field> <!-- Nombre que aparecerá en el menú -->
   <field name="res_model">estate.property</field> <!-- Modelo de datos que se mostrará -->
   <field name="view_mode">list,form</field> <!-- Modos de vista disponibles: lista y formulario -->
   <field name="help" type= "html"> <!-- Mensaje de ayuda cuando no hay registros -->
     <p class="o_view_nocontent_smiling_face">
         Create Your first property!
     </p>
     <p>
       Here you can Create and manage all of your real estate Properties.
     </p>
     <p>
       Let's get that next amazing deal!
     </p>
    </field>
  </record>

  <!-- Definición de la vista de lista para propiedades inmobiliarias -->
  <record id="estate_property_view_list" model="ir.ui.view">
  <field name="name">estate.property.tree</field> <!-- Nombre técnico de la vista -->
  <field name="model">estate.property</field> <!-- Modelo asociado a esta vista -->
  <field name="arch" type ="xml"> <!-- Arquitectura de la vista en XML -->
       <list> <!-- Elemento raíz para la vista de lista -->
        <field name="name" string="Título" width="200"/> <!-- Campo nombre con etiqueta personalizada -->
        <field name="active" string="Estado" widget="boolean_toggle" width="100"/>
        <field name="postcode" string="Código Postal" width="100"/> <!-- Campo código postal -->
        <field name="bedrooms" string="Habitaciones" width="100"/> <!-- Campo número de habitaciones -->
        <field name="living_area" string="Área Habitable" width="100"/> <!-- Campo área habitable -->
        <field name="selling_price" string="Precio de Venta" width="100"/> <!-- Campo precio de venta -->
        <field name="date_availability" string="Disponible Desde" width="150"/> <!-- Campo fecha de disponibilidad -->
       </list> 
   </field>
  </record>

  <!-- Definición de la vista de formulario para propiedades inmobiliarias -->
  <record id="estate_property_view_form" model="ir.ui.view">
  <field name="name">estate.property.form</field> <!-- Nombre técnico de la vista -->
  <field name="model">estate.property</field> <!-- Modelo asociado a esta vista -->
  <field name="arch" type="xml"> <!-- Arquitectura de la vista en XML -->
    <form string="Property"> <!-- Elemento raíz para la vista de formulario -->
      <sheet> <!-- Contenedor principal del formulario -->
        <widget name="web_ribbon" title="Archivado" bg_color="text-bg-danger" invisible="active"/>
        <div class="oe_button_box" name="button_box">
          <button class="oe_stat_button" type="object" name="toggle_active" icon="fa-archive">
            <field name="active" widget="boolean_button" options="{'terminology': 'archive'}"/>
          </button>
        </div>
        <group> <!-- Grupo principal de campos -->
          <group string="Información General"> <!-- Subgrupo con título -->
            <field name="name"/> <!-- Campo nombre -->
            <field name="postcode"/> <!-- Campo código postal -->
            <field name="state"/> <!-- Campo estado -->
          </group>
          <group string="Detalles de la Propiedad"> <!-- Subgrupo con título -->
            <field name="bedrooms"/> <!-- Campo número de habitaciones -->
            <field name="living_area"/> <!-- Campo área habitable -->
            <field name="facades"/> <!-- Campo número de fachadas -->
          </group>
        </group>
        <group> <!-- Segundo grupo principal de campos -->
          <group string="Características Adicionales"> <!-- Subgrupo con título -->
            <field name="garage"/> <!-- Campo booleano para garaje -->
            <field name="garden"/> <!-- Campo booleano para jardín -->
            <field name="garden_area" invisible="not garden"/> <!-- Campo área del jardín, visible solo si hay jardín -->
            <field name="garden_orientation" invisible="not garden"/> <!-- Campo orientación del jardín, visible solo si hay jardín -->
          </group>
          <group string="Información Comercial"> <!-- Subgrupo con título -->
            <field name="selling_price"/> <!-- Campo precio de venta -->
            <field name="date_availability"/> <!-- Campo fecha de disponibilidad -->
          </group>
        </group>
        <notebook> <!-- Contenedor de pestañas -->
          <page string="Descripción"> <!-- Pestaña con título -->
            <field name="description"/> <!-- Campo descripción -->
          </page>
        </notebook>
      </sheet>
    </form>
  </field>
  </record>


  
  <!-- Definición de la vista de búsqueda para propiedades inmobiliarias -->
  <record id="estate_property_view_search" model="ir.ui.view">
    <field name="name">estate.property.search</field>
    <field name="model">estate.property</field>
    <field name="arch" type="xml">
      <search>
        <field name="name"/>
        <field name="postcode"/>
        <field name="bedrooms"/>
        <field name="living_area"/>
        <field name="selling_price"/>
        <separator/>
        <filter name="available" domain="[('state', 'in', ['new', 'offer_received'])]"/>
        <filter name="sold" domain="[('state', '=', 'sold')]"/>
        <separator/>
        <filter name="with_garden" domain="[('garden', '=', True)]"/>
        <filter name="with_garage" domain="[('garage', '=', True)]"/>
        <separator/>
        <filter string="Archivados" name="inactive" domain="[('active', '=', False)]"/>
        <group expand="1">
          <filter name="groupby_state" context="{'group_by': 'state'}"/>
          <filter name="groupby_postcode" context="{'group_by': 'postcode'}"/>
        </group>
      </search>
    </field>
  </record>



</odoo>