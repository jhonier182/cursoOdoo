<?xml version="1.0"?>
<!-- Declaración XML que indica la versión del documento -->
<odoo>
  <!-- Definición de la acción de ventana para propiedades inmobiliarias -->
  <record id="estate_property_action" model="ir.actions.act_window">
   <field name="name">Properties</field> <!-- Nombre que aparecerá en el menú -->
   <field name="res_model">estate.property</field> <!-- Modelo de datos que se mostrará -->
   <field name="view_mode">list,form</field> <!-- Modos de vista disponibles: lista y formulario -->
   <field name="help" type= "html"> <!-- Mensaje de ayuda cuando no hay registros -->
     <p class="o_view_nocontent_smiling_face">
         Create Your first property!
     </p>
     <p>
       Here you can Create and manage all of your real estate Properties.
     </p>
     <p>
       Let's get that next amazing deal!
     </p>
    </field>
  </record>

  <!-- Definición de la vista de lista para propiedades inmobiliarias -->
  <record id="estate_property_view_list" model="ir.ui.view">
  <field name="name">estate.property.tree</field> <!-- Nombre técnico de la vista -->
  <field name="model">estate.property</field> <!-- Modelo asociado a esta vista -->
  <field name="arch" type ="xml"> <!-- Arquitectura de la vista en XML -->
       <list> <!-- Elemento raíz para la vista de lista -->
        <field name="name" string="Título" width="200"/> <!-- Campo nombre con etiqueta personalizada -->
        <field name="active" string="Estado" widget="boolean_toggle" width="100"/>
        <field name="postcode" string="Código Postal" width="100"/> <!-- Campo código postal -->
        <field name="bedrooms" string="Habitaciones" width="100"/> <!-- Campo número de habitaciones -->
        <field name="living_area" string="Área Habitable" width="100"/> <!-- Campo área habitable -->
        <field name="selling_price" string="Precio de Venta" width="100"/> <!-- Campo precio de venta -->
        <field name="date_availability" string="Disponible Desde" width="150"/> <!-- Campo fecha de disponibilidad -->
       </list> 
   </field>
  </record>

  <!-- Definición de la vista de formulario para propiedades inmobiliarias -->
  <record id="estate_property_view_form" model="ir.ui.view">
  <field name="name">estate.property.form</field>
  <field name="model">estate.property</field>
  <field name="arch" type="xml">
    <form string="Property">
      <sheet>
        <widget name="web_ribbon" title="Archivado" bg_color="text-bg-danger" invisible="active"/>
        <div class="oe_button_box" name="button_box">
          <button class="oe_stat_button" type="object" name="toggle_active" icon="fa-archive">
            <field name="active" widget="boolean_button" options="{'terminology': 'archive'}"/>
          </button>
        </div>
        <group>
          <group string="Información General">
            <field name="name"/>
            <field name="postcode"/>
            <field name="state"/>
          </group>
          <group string="Detalles de la Propiedad">
            <field name="bedrooms"/>
            <field name="living_area"/>
            <field name="facades"/>
          </group>
        </group>
        <group>
          <group string="Características Adicionales">
            <field name="garage"/>
            <field name="garden"/>
            <field name="garden_area" invisible="not garden"/>
            <field name="garden_orientation" invisible="not garden"/>
          </group>
          <group string="Información Comercial">
            <field name="selling_price"/>
            <field name="date_availability"/>
          </group>
        </group>
        <notebook>
          <page string="Descripción">
            <field name="description"/>
          </page>
        </notebook>
      </sheet>
    </form>
  </field>
  </record>

  
  <!-- Definición de la vista de filtros para propiedades inmobiliarias -->
  <record id="estate_property_view_search" model="ir.ui.view">
    <field name="name">estate.property.filters</field>
    <field name="model">estate.property</field>
    <field name="arch" type="xml">
      <search>
        <field name="name"/>
        <field name="postcode"/>
        <field name="bedrooms"/>
        <field name="living_area"/>
        <field name="selling_price"/>
        <separator/>
        <filter string="Disponibles" name="available" domain="[('state', 'in', ['new', 'offer_received'])]"/>
        <filter string="Vendidas" name="sold" domain="[('state', '=', 'sold')]"/>
        <separator/>
        <filter string="Con Jardín" name="with_garden" domain="[('garden', '=', True)]"/>
        <filter string="Con Garaje" name="with_garage" domain="[('garage', '=', True)]"/>
        <separator/>
        <filter string="Archivados" name="inactive" domain="[('active', '=', False)]"/>
        <group expand="1" string="Agrupar Por">
          <filter string="Estado" name="groupby_state" context="{'group_by': 'state'}"/>
          <filter string="Código Postal" name="groupby_postcode" context="{'group_by': 'postcode'}"/>
        </group>
      </search>
    </field>
  </record>



</odoo>